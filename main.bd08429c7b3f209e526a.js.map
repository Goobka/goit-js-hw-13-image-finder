{"version":3,"sources":["webpack:///./js/img-service.js","webpack:///./js/basiclightbox.js","webpack:///./js/notifications.js","webpack:///./index.js","webpack:///./js/components/back-to-top-btn.js","webpack:///./templates/gallery.hbs"],"names":["searchQuery","page","fetchImages","url","this","query","fetch","then","res","json","hits","incrementPage","catch","error","console","log","resetPage","newQuery","onImgClick","event","target","nodeName","lightboxImg","dataset","source","basicLightbox","show","defaultModules","set","PNotifyMobile","defaults","styling","icons","refs","galleryList","document","querySelector","searchForm","sentinel","updateGalleryListMarkup","data","markup","galleryListTpl","insertAdjacentHTML","addEventListener","preventDefault","form","currentTarget","imgService","elements","value","title","text","delay","innerHTML","reset","IntersectionObserver","entries","forEach","entry","isIntersecting","rootMargin","observe","goTopBtn","window","scrolled","pageYOffset","coords","documentElement","clientHeight","classList","add","remove","backToTop","scrollBy","setTimeout","Handlebars","module","exports","template","container","depth0","helpers","partials","alias1","lambda","alias2","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","nullContext","program","noop"],"mappings":"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","file":"main.bd08429c7b3f209e526a.js","sourcesContent":["export default {\n    searchQuery: '',\n    page: 1,\n    fetchImages() {\n        const apiKey = \"20010516-1aac730e4e83c98dd9531c169\";\n        const url = `https://pixabay.com/api/?key=${apiKey}&q=${this.query}&image_type=photo&orientation=horizontal&page=${this.page}&per_page=12`;\n\n        return fetch(url).then(res => res.json()).then(({ hits }) => {\n            this.incrementPage();\n            return hits;\n        }).catch(error => console.log(error))\n    },\n    resetPage() {\n        this.page = 1;\n    },\n    incrementPage() {\n        this.page += 1;\n    },\n    get query() {\n        return this.searchQuery;\n    },\n    set query(newQuery) {\n        this.searchQuery = newQuery;\n    },\n};","import 'basiclightbox/src/styles/main.scss';\n\nimport * as basicLightbox from 'basiclightbox';\n\nfunction onImgClick(event) {\n    if (event.target.nodeName === 'IMG') {\n        const lightboxImg = event.target.dataset.source;\n        console.log(lightboxImg);\n        basicLightbox.create(`\n            <img src=\"${lightboxImg}\" />\n        `).show();\n    }\n}\n\nexport default onImgClick;","import {\nerror,\ndefaultModules,\n} from '@pnotify/core/dist/PNotify.js';\nimport '@pnotify/core/dist/PNotify.css';\nimport '@pnotify/mobile/dist/PNotifyMobile.css';\nimport * as PNotifyMobile from '@pnotify/mobile/dist/PNotifyMobile.js';\ndefaultModules.set(PNotifyMobile, {});\nimport '@pnotify/core/dist/Material.css';\nimport { defaults } from '@pnotify/core';\ndefaults.styling = 'material';\nimport 'material-design-icons/iconfont/material-icons.css';\ndefaults.icons = 'material';\n\nexport default error;","import './styles.css';\nimport 'material-design-icons/iconfont/material-icons.css';\nimport imgService from './js/img-service';\nimport galleryListTpl from './templates/gallery.hbs';\nimport onImgClick from './js/basiclightbox';\nimport './js/components/back-to-top-btn';\n//import LoadMoreBtn from './js/components/load-more-btn';\nimport error from './js/notifications';\n\nconst refs = {\n  galleryList: document.querySelector('.js-gallery'),\n  searchForm: document.querySelector('.search-form'),\n  sentinel: document.querySelector('#sentinel'),\n}\n\n// const loadMoreBtn = new LoadMoreBtn({\n//   selector: '[data-action=\"load-more\"]',\n//   hidden: true,\n// });\n\nrefs.searchForm.addEventListener('submit', onFormSubmit);\nrefs.galleryList.addEventListener('click', onImgClick);\n// loadMoreBtn.refs.button.addEventListener('click', fetchGalleryList)\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  const form = event.currentTarget;\n  imgService.query = form.elements.query.value;\n  // loadMoreBtn.show();\n  imgService.resetPage();\n  fetchGalleryList();\n  clearGalleryList();\n  form.reset();\n}\n\nfunction fetchGalleryList() {\n  // loadMoreBtn.disable();\n    imgService.fetchImages().then(hits => {\n      if (imgService.query === '') {\n        error({\n          title: 'Not valid request',\n          text: 'Specify your request',\n          delay: 2000,\n        });\n      }\n        updateGalleryListMarkup(hits);\n        // loadMoreBtn.enable();\n        // window.scrollTo({\n        //   top: document.documentElement.offsetHeight,\n        //   behavior: \"smooth\"\n        // });\n    })\n}\n\nfunction updateGalleryListMarkup(data) {\n  const markup = galleryListTpl(data);\n  return refs.galleryList.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction clearGalleryList() {\n  refs.galleryList.innerHTML = '';\n}\n\nconst onEntry = entries => {\n  entries.forEach(entry => {\n    if (entry.isIntersecting && imgService.query !== '') {\n      imgService.fetchImages().then(hits => {\n      if (imgService.query === '') {\n        error({\n          title: 'Not valid request',\n          text: 'Specify your request',\n          delay: 2000,\n        });\n      }\n        updateGalleryListMarkup(hits);\n    })\n    }\n  });\n};\n\nconst observer = new IntersectionObserver(onEntry, {\n  rootMargin: '150px',\n});\nobserver.observe(refs.sentinel);\n","function trackScroll() {\n  const scrolled = window.pageYOffset;\n  const coords = document.documentElement.clientHeight;\n  if (scrolled > coords) {\n    goTopBtn.classList.add('back_to_top-show');\n  }\n  if (scrolled < coords) {\n    goTopBtn.classList.remove('back_to_top-show');\n  }\n}\n\nfunction backToTop() {\n  if (window.pageYOffset > 0) {\n    window.scrollBy(0, -80);\n    setTimeout(backToTop, 0);\n  }\n}\n\nconst goTopBtn = document.querySelector('.back_to_top');\nwindow.addEventListener('scroll', trackScroll);\ngoTopBtn.addEventListener('click', backToTop);\n\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <li class=\\\"gallery__item js-gallery-item\\\">\\n        <div class=\\\"photo-card\\\">\\n        <img src=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0), depth0))\n    + \"\\\" data-source=\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"largeImageURL\") : depth0), depth0))\n    + \" alt=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"tags\") : depth0), depth0))\n    + \"\\\" />\\n    \\n        <div class=\\\"stats\\\">\\n            <p class=\\\"stats-item\\\">\\n                <i class=\\\"material-icons\\\">thumb_up</i>\\n                \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"likes\") : depth0), depth0))\n    + \"\\n            </p>\\n            <p class=\\\"stats-item\\\">\\n                <i class=\\\"material-icons\\\">visibility</i>\\n                \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"views\") : depth0), depth0))\n    + \"\\n            </p>\\n            <p class=\\\"stats-item\\\">\\n                <i class=\\\"material-icons\\\">comment</i>\\n                \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"comments\") : depth0), depth0))\n    + \"\\n            </p>\\n            <p class=\\\"stats-item\\\">\\n                <i class=\\\"material-icons\\\">cloud_download</i>\\n                \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0), depth0))\n    + \"\\n            </p>\\n        </div>\\n    </div>\\n    </li>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":26,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}